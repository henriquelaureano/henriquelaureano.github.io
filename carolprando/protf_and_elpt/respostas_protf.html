<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Henrique Laureano">

<title>PROTF</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="respostas_protf_files/libs/clipboard/clipboard.min.js"></script>
<script src="respostas_protf_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="respostas_protf_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="respostas_protf_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="respostas_protf_files/libs/quarto-html/popper.min.js"></script>
<script src="respostas_protf_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="respostas_protf_files/libs/quarto-html/anchor.min.js"></script>
<link href="respostas_protf_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="respostas_protf_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="respostas_protf_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="respostas_protf_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="respostas_protf_files/libs/bootstrap/bootstrap-ec567951c972cfd6b8f0c9672dede165.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#lendo-os-dados" id="toc-lendo-os-dados" class="nav-link active" data-scroll-target="#lendo-os-dados">Lendo os dados</a>
  <ul class="collapse">
  <li><a href="#atenção-dado-duplicado-mas-com-diferenças" id="toc-atenção-dado-duplicado-mas-com-diferenças" class="nav-link" data-scroll-target="#atenção-dado-duplicado-mas-com-diferenças">Atenção! Dado duplicado mas com diferenças</a></li>
  </ul></li>
  <li><a href="#análise-epidemiológica" id="toc-análise-epidemiológica" class="nav-link" data-scroll-target="#análise-epidemiológica">1. Análise epidemiológica:</a>
  <ul class="collapse">
  <li><a href="#a-porcentagem-de-cada-faixa-etária-na-amostra" id="toc-a-porcentagem-de-cada-faixa-etária-na-amostra" class="nav-link" data-scroll-target="#a-porcentagem-de-cada-faixa-etária-na-amostra">a) Porcentagem de cada faixa etária na amostra</a></li>
  <li><a href="#b-setores-mais-representativos-na-amostra" id="toc-b-setores-mais-representativos-na-amostra" class="nav-link" data-scroll-target="#b-setores-mais-representativos-na-amostra">b) Setores mais representativos na amostra</a></li>
  <li><a href="#c-sexo" id="toc-c-sexo" class="nav-link" data-scroll-target="#c-sexo">c) Sexo</a></li>
  <li><a href="#d-presençaausência-de-quadros-infecciosos-e-sistema-mais-afetado-em-casos-positivos-para-quadros-infecciosos" id="toc-d-presençaausência-de-quadros-infecciosos-e-sistema-mais-afetado-em-casos-positivos-para-quadros-infecciosos" class="nav-link" data-scroll-target="#d-presençaausência-de-quadros-infecciosos-e-sistema-mais-afetado-em-casos-positivos-para-quadros-infecciosos">d) Presença/ausência de quadros infecciosos e sistema mais afetado em casos positivos para quadros infecciosos</a></li>
  <li><a href="#e-porcentagem-de-indivíduos-com-comorbidade-e-comorbidades-mais-frequentes" id="toc-e-porcentagem-de-indivíduos-com-comorbidade-e-comorbidades-mais-frequentes" class="nav-link" data-scroll-target="#e-porcentagem-de-indivíduos-com-comorbidade-e-comorbidades-mais-frequentes">e) Porcentagem de indivíduos com comorbidade e comorbidades mais frequentes</a></li>
  <li><a href="#f-porcentagem-de-pacientes-que-realizam-hemodiálise" id="toc-f-porcentagem-de-pacientes-que-realizam-hemodiálise" class="nav-link" data-scroll-target="#f-porcentagem-de-pacientes-que-realizam-hemodiálise">f) Porcentagem de pacientes que realizam hemodiálise</a></li>
  <li><a href="#g-porcentagem-de-pacientes-que-passaram-por-cirurgia-nos-30-dias-antes-do-exame" id="toc-g-porcentagem-de-pacientes-que-passaram-por-cirurgia-nos-30-dias-antes-do-exame" class="nav-link" data-scroll-target="#g-porcentagem-de-pacientes-que-passaram-por-cirurgia-nos-30-dias-antes-do-exame">g) Porcentagem de pacientes que passaram por cirurgia nos 30 dias antes do exame</a></li>
  <li><a href="#h-porcentagem-de-pacientes-que-passaram-por-tratamento-oncológico-nos-30-antes-do-exame" id="toc-h-porcentagem-de-pacientes-que-passaram-por-tratamento-oncológico-nos-30-antes-do-exame" class="nav-link" data-scroll-target="#h-porcentagem-de-pacientes-que-passaram-por-tratamento-oncológico-nos-30-antes-do-exame">h) Porcentagem de pacientes que passaram por tratamento oncológico nos 30 antes do exame</a></li>
  <li><a href="#i-porcentagem-de-pacientes-que-fizeram-uso-de-medicação" id="toc-i-porcentagem-de-pacientes-que-fizeram-uso-de-medicação" class="nav-link" data-scroll-target="#i-porcentagem-de-pacientes-que-fizeram-uso-de-medicação">i) Porcentagem de pacientes que fizeram uso de medicação</a></li>
  <li><a href="#j-porcentagem-de-pacientes-com-registro-de-óbito.-definir-intervalo-de-tempo-entre-a-data-do-exame-e-a-data-do-óbito." id="toc-j-porcentagem-de-pacientes-com-registro-de-óbito.-definir-intervalo-de-tempo-entre-a-data-do-exame-e-a-data-do-óbito." class="nav-link" data-scroll-target="#j-porcentagem-de-pacientes-com-registro-de-óbito.-definir-intervalo-de-tempo-entre-a-data-do-exame-e-a-data-do-óbito.">j) Porcentagem de pacientes com registro de óbito. Definir intervalo de tempo entre a data do exame e a data do óbito.</a></li>
  </ul></li>
  <li><a href="#análise-de-indivíduos-com-dosagem-de-igg" id="toc-análise-de-indivíduos-com-dosagem-de-igg" class="nav-link" data-scroll-target="#análise-de-indivíduos-com-dosagem-de-igg">2. Análise de indivíduos com dosagem de IgG</a>
  <ul class="collapse">
  <li><a href="#a-a-partir-dos-valores-de-dosagem-de-igg-verificar-se-existe-correlação-com-os-valores-de-protf-não-considerar-na-estatistica-os-pacientes-que-fazem-reposição-de-igg---pois-é-um-tratamento-logo-não-é-um-dado-basal" id="toc-a-a-partir-dos-valores-de-dosagem-de-igg-verificar-se-existe-correlação-com-os-valores-de-protf-não-considerar-na-estatistica-os-pacientes-que-fazem-reposição-de-igg---pois-é-um-tratamento-logo-não-é-um-dado-basal" class="nav-link" data-scroll-target="#a-a-partir-dos-valores-de-dosagem-de-igg-verificar-se-existe-correlação-com-os-valores-de-protf-não-considerar-na-estatistica-os-pacientes-que-fazem-reposição-de-igg---pois-é-um-tratamento-logo-não-é-um-dado-basal">a) A partir dos valores de dosagem de IgG, verificar se existe correlação com os valores de PROTF; Não considerar na estatistica os pacientes que fazem reposição de IgG - pois é um tratamento, logo não é um dado basal</a></li>
  <li><a href="#b-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf" id="toc-b-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf" class="nav-link" data-scroll-target="#b-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf">b) Entre os indivíduos com dosagem de IgG abaixo do valor de referência, qual foi o valor médio, mínimo e máximo do valor de PROTF?</a></li>
  <li><a href="#c-entre-os-indivíduos-com-dosagem-de-igg-acima-do-valor-de-referência-e-que-não-fazem-reposição-de-igg-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf" id="toc-c-entre-os-indivíduos-com-dosagem-de-igg-acima-do-valor-de-referência-e-que-não-fazem-reposição-de-igg-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf" class="nav-link" data-scroll-target="#c-entre-os-indivíduos-com-dosagem-de-igg-acima-do-valor-de-referência-e-que-não-fazem-reposição-de-igg-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf">c) Entre os indivíduos com dosagem de IgG acima do valor de referência e que NÃO fazem reposição de IgG, qual foi o valor médio, mínimo e máximo do valor de PROTF?</a></li>
  <li><a href="#d-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-quantos-possuíam-comorbidade-quais-eram-mais-frequentes" id="toc-d-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-quantos-possuíam-comorbidade-quais-eram-mais-frequentes" class="nav-link" data-scroll-target="#d-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-quantos-possuíam-comorbidade-quais-eram-mais-frequentes">d) Entre os indivíduos com dosagem de IgG abaixo do valor de referência, quantos possuíam comorbidade? Quais eram mais frequentes?</a></li>
  </ul></li>
  <li><a href="#análise-dos-menores-de-1-ano" id="toc-análise-dos-menores-de-1-ano" class="nav-link" data-scroll-target="#análise-dos-menores-de-1-ano">3. Análise dos menores de 1 ano</a>
  <ul class="collapse">
  <li><a href="#a-entre-os-menores-de-1-ano-quantos-apresentavam-a-comorbidade-prematuridade" id="toc-a-entre-os-menores-de-1-ano-quantos-apresentavam-a-comorbidade-prematuridade" class="nav-link" data-scroll-target="#a-entre-os-menores-de-1-ano-quantos-apresentavam-a-comorbidade-prematuridade">a) Entre os menores de 1 ano, quantos apresentavam a comorbidade “Prematuridade”?</a></li>
  <li><a href="#b-levando-em-consideração-pacientes-que-fizeram-os-exames-protf-igg-definir-um-valor-de-referência-para-protf-levando-como-referência-a-dosagem-de-igg" id="toc-b-levando-em-consideração-pacientes-que-fizeram-os-exames-protf-igg-definir-um-valor-de-referência-para-protf-levando-como-referência-a-dosagem-de-igg" class="nav-link" data-scroll-target="#b-levando-em-consideração-pacientes-que-fizeram-os-exames-protf-igg-definir-um-valor-de-referência-para-protf-levando-como-referência-a-dosagem-de-igg">b) Levando em consideração pacientes que fizeram os exames PROTF + IgG, definir um valor de referência para PROTF levando como referência a dosagem de IgG</a></li>
  <li><a href="#explicação-mais-detalhada" id="toc-explicação-mais-detalhada" class="nav-link" data-scroll-target="#explicação-mais-detalhada">Explicação mais detalhada</a>
  <ul class="collapse">
  <li><a href="#establishment-of-the-baseline-reference" id="toc-establishment-of-the-baseline-reference" class="nav-link" data-scroll-target="#establishment-of-the-baseline-reference">1. Establishment of the Baseline Reference</a></li>
  <li><a href="#group-dynamics-the-rise-vs.-plateau-effect" id="toc-group-dynamics-the-rise-vs.-plateau-effect" class="nav-link" data-scroll-target="#group-dynamics-the-rise-vs.-plateau-effect">2. Group Dynamics: The “Rise vs.&nbsp;Plateau” Effect</a></li>
  <li><a href="#segmented-regression-inflection-point" id="toc-segmented-regression-inflection-point" class="nav-link" data-scroll-target="#segmented-regression-inflection-point">3. Segmented Regression (Inflection Point)</a></li>
  <li><a href="#summary-of-statistical-findings" id="toc-summary-of-statistical-findings" class="nav-link" data-scroll-target="#summary-of-statistical-findings">Summary of Statistical Findings</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#methodology-references" id="toc-methodology-references" class="nav-link" data-scroll-target="#methodology-references">Methodology &amp; References</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PROTF</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Henrique Laureano </p>
          </div>
  </div>
    
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">December 27, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"pacman"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) </span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-5"><a href="#cb1-5"></a>  ggplot2, googlesheets4, dplyr, lubridate, tidyr, stringr, ggpubr, segmented, broom</span>
<span id="cb1-6"><a href="#cb1-6"></a>)</span>
<span id="cb1-7"><a href="#cb1-7"></a>ggplot2<span class="sc">::</span><span class="fu">theme_set</span>(</span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>    <span class="fu">theme</span>(<span class="at">plot.title           =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-10"><a href="#cb1-10"></a>          <span class="at">plot.subtitle        =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-11"><a href="#cb1-11"></a>          <span class="at">axis.text.x          =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-12"><a href="#cb1-12"></a>          <span class="at">axis.text.y          =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-13"><a href="#cb1-13"></a>          <span class="at">axis.title.x         =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb1-14"><a href="#cb1-14"></a>          <span class="at">axis.title.y         =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">angle =</span> <span class="dv">360</span>),</span>
<span id="cb1-15"><a href="#cb1-15"></a>          <span class="at">strip.text           =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-16"><a href="#cb1-16"></a>          <span class="at">legend.position      =</span> <span class="st">"bottom"</span>, </span>
<span id="cb1-17"><a href="#cb1-17"></a>          <span class="at">legend.justification =</span> <span class="st">"right"</span>,</span>
<span id="cb1-18"><a href="#cb1-18"></a>          <span class="at">panel.grid.major     =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray90"</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span>
<span id="cb1-19"><a href="#cb1-19"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="lendo-os-dados" class="level1">
<h1>Lendo os dados</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>protf_url <span class="ot">&lt;-</span> </span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">paste0</span>(</span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="st">"https://docs.google.com/spreadsheets/d/"</span>,</span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="st">"1k3vlSk4e4mHMwTHZVnDpSTXyMReXLTGsgk82rHVILgQ/"</span>,</span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="st">"edit?gid=402323031#gid=402323031"</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>)</span>
<span id="cb2-7"><a href="#cb2-7"></a>protf <span class="ot">&lt;-</span> googlesheets4<span class="sc">::</span><span class="fu">read_sheet</span>(protf_url) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">distinct</span>()</span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a>protf <span class="ot">&lt;-</span> protf <span class="sc">|&gt;</span> </span>
<span id="cb2-10"><a href="#cb2-10"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="at">IDADE =</span> lubridate<span class="sc">::</span><span class="fu">time_length</span>(</span>
<span id="cb2-12"><a href="#cb2-12"></a>      lubridate<span class="sc">::</span><span class="fu">interval</span>(<span class="st">`</span><span class="at">6 - Data de Nascimento</span><span class="st">`</span>, </span>
<span id="cb2-13"><a href="#cb2-13"></a>                          <span class="st">`</span><span class="at">5 - Data de Cadastro do Exame</span><span class="st">`</span>), <span class="st">"years"</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>    )</span>
<span id="cb2-15"><a href="#cb2-15"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Calculando a idade dos pacientes vemos dois casos com data de cadastro do exame anterior a sua data de nascimento.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(IDADE <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>    <span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="st">`</span><span class="at">5 - Data de Cadastro do Exame</span><span class="st">`</span>,</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="st">`</span><span class="at">6 - Data de Nascimento</span><span class="st">`</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  1 - Insira o Prontuário do Pac…¹ 5 - Data de Cadastro…² 6 - Data de Nascimen…³
                             &lt;dbl&gt; &lt;dttm&gt;                 &lt;dttm&gt;                
1                           656997 2023-11-11 00:00:00    2024-07-04 00:00:00   
2                           657794 2016-12-01 00:00:00    2024-10-16 00:00:00   
# ℹ abbreviated names: ¹​`1 - Insira o Prontuário do Paciente`,
#   ²​`5 - Data de Cadastro do Exame`, ³​`6 - Data de Nascimento`</code></pre>
</div>
</div>
<section id="atenção-dado-duplicado-mas-com-diferenças" class="level2">
<h2 class="anchored" data-anchor-id="atenção-dado-duplicado-mas-com-diferenças">Atenção! Dado duplicado mas com diferenças</h2>
<p>Nem todas as entradas são iguais. Ver com detalhe na planilha Google Sheets.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span> <span class="sc">==</span> <span class="dv">638992</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 62
  `Carimbo de data/hora` `Endereço de e-mail`            1 - Insira o Prontuár…¹
  &lt;dttm&gt;                 &lt;chr&gt;                                             &lt;dbl&gt;
1 2025-08-14 16:39:23    maria.colodel@aluno.fpp.edu.br                   638992
2 2025-08-21 16:42:09    lara.zawadniak@aluno.fpp.edu.br                  638992
# ℹ abbreviated name: ¹​`1 - Insira o Prontuário do Paciente`
# ℹ 59 more variables: `2 - Insira o Setor de Solicitação do exame` &lt;chr&gt;,
#   `3 - Insira Faixa etária do paciente` &lt;chr&gt;, `4 - Sexo` &lt;chr&gt;,
#   `5 - Data de Cadastro do Exame` &lt;dttm&gt;, `6 - Data de Nascimento` &lt;dttm&gt;,
#   `7 - Quadros infecciosos até o momento da coleta?` &lt;chr&gt;,
#   `8 - Infecção em sistema nervoso central?` &lt;chr&gt;,
#   `8.1 - Quantas vezes?\n\n- Considerar número total` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
</section>
<section id="análise-epidemiológica" class="level1">
<h1>1. Análise epidemiológica:</h1>
<section id="a-porcentagem-de-cada-faixa-etária-na-amostra" class="level2">
<h2 class="anchored" data-anchor-id="a-porcentagem-de-cada-faixa-etária-na-amostra">a) Porcentagem de cada faixa etária na amostra</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">3 - Insira Faixa etária do paciente</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  `3 - Insira Faixa etária do paciente`     n Percentual
  &lt;chr&gt;                                 &lt;int&gt;      &lt;dbl&gt;
1 1 ano a 3 anos                          189    0.237  
2 10 anos a 17 anos                       151    0.189  
3 4 anos a 9 anos                         228    0.285  
4 &lt; 1 ano                                 229    0.287  
5 &gt; 18 anos                                 2    0.00250</code></pre>
</div>
</div>
</section>
<section id="b-setores-mais-representativos-na-amostra" class="level2">
<h2 class="anchored" data-anchor-id="b-setores-mais-representativos-na-amostra">b) Setores mais representativos na amostra</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">2 - Insira o Setor de Solicitação do exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf)) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">28</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 3
   `2 - Insira o Setor de Solicitação do exame`     n Percentual
   &lt;chr&gt;                                        &lt;int&gt;      &lt;dbl&gt;
 1 Laboratório de Analises Clinicas               181    0.227  
 2 UTI Cardiologia                                126    0.158  
 3 Emergência SUS Interno                          70    0.0876 
 4 Emergência Convenio                             69    0.0864 
 5 UTI Neonatal                                    43    0.0538 
 6 UTI Geral                                       40    0.0501 
 7 Posto 11 Nefrologia                             37    0.0463 
 8 Posto 52                                        29    0.0363 
 9 Posto 21                                        24    0.0300 
10 Emergência SUS                                  22    0.0275 
11 Posto 41                                        21    0.0263 
12 Posto 42                                        21    0.0263 
13 UTI Cirúrgica                                   21    0.0263 
14 Posto 51                                        18    0.0225 
15 Posto 23                                        14    0.0175 
16 Emergência Convenio Internamento                11    0.0138 
17 Infectologia                                    10    0.0125 
18 Posto 33                                        10    0.0125 
19 Posto 24                                         9    0.0113 
20 Ambulatório Hemato-Oncologia                     8    0.0100 
21 Hemodialise                                      4    0.00501
22 Posto 31                                         4    0.00501
23 Emergência SUS Externo                           2    0.00250
24 Ambulatório Especialidades I SUS                 1    0.00125
25 Emergência Convenio Externo                      1    0.00125
26 Posto 34                                         1    0.00125
27 Posto 43                                         1    0.00125
28 U.I 4º Andar - Posto 40                          1    0.00125</code></pre>
</div>
</div>
</section>
<section id="c-sexo" class="level2">
<h2 class="anchored" data-anchor-id="c-sexo">c) Sexo</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">4 - Sexo</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  `4 - Sexo`                                                        n Percentual
  &lt;chr&gt;                                                         &lt;int&gt;      &lt;dbl&gt;
1 Feminino                                                        342    0.428  
2 Masculino                                                       456    0.571  
3 Paciente XX no PEP (e primeira evolução, e única, consta T21…     1    0.00125</code></pre>
</div>
</div>
</section>
<section id="d-presençaausência-de-quadros-infecciosos-e-sistema-mais-afetado-em-casos-positivos-para-quadros-infecciosos" class="level2">
<h2 class="anchored" data-anchor-id="d-presençaausência-de-quadros-infecciosos-e-sistema-mais-afetado-em-casos-positivos-para-quadros-infecciosos">d) Presença/ausência de quadros infecciosos e sistema mais afetado em casos positivos para quadros infecciosos</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">7 - Quadros infecciosos até o momento da coleta?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  `7 - Quadros infecciosos até o momento da coleta?`     n Percentual
  &lt;chr&gt;                                              &lt;int&gt;      &lt;dbl&gt;
1 Não                                                  309      0.387
2 Sem informação                                       116      0.145
3 Sim                                                  374      0.468</code></pre>
</div>
</div>
<p>Em quem tem caso positivo para quadro infeccioso</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="st">`</span><span class="at">7 - Quadros infecciosos até o momento da coleta?</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Sim"</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="st">`</span><span class="at">8 - Infecção em sistema nervoso central?</span><span class="st">`</span>,</span>
<span id="cb15-5"><a href="#cb15-5"></a>                <span class="st">`</span><span class="at">9 - Infecção de vias áreas superiores?</span><span class="st">`</span>,</span>
<span id="cb15-6"><a href="#cb15-6"></a>                <span class="st">`</span><span class="at">10 - Infecção de vias áreas inferiores?</span><span class="st">`</span>,</span>
<span id="cb15-7"><a href="#cb15-7"></a>                <span class="st">`</span><span class="at">11 - Infecção de sistema urinário?</span><span class="st">`</span>,</span>
<span id="cb15-8"><a href="#cb15-8"></a>                <span class="st">`</span><span class="at">12 - Infecção de sistema gastrointestinal?</span><span class="st">`</span>,</span>
<span id="cb15-9"><a href="#cb15-9"></a>                <span class="st">`</span><span class="at">13 - Infecção de pele?</span><span class="st">`</span>,</span>
<span id="cb15-10"><a href="#cb15-10"></a>                <span class="st">`</span><span class="at">14 - Sepse?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-11"><a href="#cb15-11"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="st">`</span><span class="at">8 - Infecção em sistema nervoso central?</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">14 - Sepse?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-12"><a href="#cb15-12"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(value <span class="sc">==</span> <span class="st">"Sim"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-13"><a href="#cb15-13"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(name) <span class="sc">|&gt;</span></span>
<span id="cb15-14"><a href="#cb15-14"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
  name                                           n Percentual
  &lt;chr&gt;                                      &lt;int&gt;      &lt;dbl&gt;
1 10 - Infecção de vias áreas inferiores?      122     0.242 
2 14 - Sepse?                                  113     0.224 
3 9 - Infecção de vias áreas superiores?       111     0.220 
4 11 - Infecção de sistema urinário?            68     0.135 
5 12 - Infecção de sistema gastrointestinal?    48     0.0952
6 13 - Infecção de pele?                        32     0.0635
7 8 - Infecção em sistema nervoso central?      10     0.0198</code></pre>
</div>
</div>
<p>Dos 374 pacientes com quadro infeccioso, 302 apresentaram em mais de um sistema (ao menos em dois). 80.75%.</p>
<p>Nestes 302, estes são os sintomas que aparecem e em quantos dos 302 pacientes.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>proxy <span class="ot">&lt;-</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  protf <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb17-3"><a href="#cb17-3"></a>    <span class="st">`</span><span class="at">7 - Quadros infecciosos até o momento da coleta?</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Sim"</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>                <span class="st">`</span><span class="at">8 - Infecção em sistema nervoso central?</span><span class="st">`</span>,</span>
<span id="cb17-7"><a href="#cb17-7"></a>                <span class="st">`</span><span class="at">9 - Infecção de vias áreas superiores?</span><span class="st">`</span>,</span>
<span id="cb17-8"><a href="#cb17-8"></a>                <span class="st">`</span><span class="at">10 - Infecção de vias áreas inferiores?</span><span class="st">`</span>,</span>
<span id="cb17-9"><a href="#cb17-9"></a>                <span class="st">`</span><span class="at">11 - Infecção de sistema urinário?</span><span class="st">`</span>,</span>
<span id="cb17-10"><a href="#cb17-10"></a>                <span class="st">`</span><span class="at">12 - Infecção de sistema gastrointestinal?</span><span class="st">`</span>,</span>
<span id="cb17-11"><a href="#cb17-11"></a>                <span class="st">`</span><span class="at">13 - Infecção de pele?</span><span class="st">`</span>,</span>
<span id="cb17-12"><a href="#cb17-12"></a>                <span class="st">`</span><span class="at">14 - Sepse?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="sc">!</span><span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(value <span class="sc">==</span> <span class="st">"Sim"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(<span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-16"><a href="#cb17-16"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">n =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n), <span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>) </span>
<span id="cb17-20"><a href="#cb17-20"></a></span>
<span id="cb17-21"><a href="#cb17-21"></a>(</span>
<span id="cb17-22"><a href="#cb17-22"></a>  proxy2 <span class="ot">&lt;-</span> </span>
<span id="cb17-23"><a href="#cb17-23"></a>    proxy <span class="sc">|&gt;</span></span>
<span id="cb17-24"><a href="#cb17-24"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(value, n)) <span class="sc">|&gt;</span> </span>
<span id="cb17-25"><a href="#cb17-25"></a>    <span class="fu">mutate</span>(<span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(name, <span class="st">"^[0-9]+ - "</span>),</span>
<span id="cb17-26"><a href="#cb17-26"></a>           <span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(name, <span class="st">"</span><span class="sc">\\</span><span class="st">?"</span>),</span>
<span id="cb17-27"><a href="#cb17-27"></a>           <span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(name, <span class="st">"Infecção (de|em) "</span>),</span>
<span id="cb17-28"><a href="#cb17-28"></a>           <span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_to_sentence</span>(name)) <span class="sc">|&gt;</span></span>
<span id="cb17-29"><a href="#cb17-29"></a>    dplyr<span class="sc">::</span><span class="fu">count</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb17-30"><a href="#cb17-30"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="dv">302</span>) </span>
<span id="cb17-32"><a href="#cb17-32"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
  name                         n Percentual
  &lt;chr&gt;                    &lt;int&gt;      &lt;dbl&gt;
1 Vias áreas inferiores       78     0.258 
2 Vias áreas superiores       62     0.205 
3 Sepse                       53     0.175 
4 Sistema urinário            45     0.149 
5 Sistema gastrointestinal    34     0.113 
6 Pele                        23     0.0762
7 Sistema nervoso central      7     0.0232</code></pre>
</div>
</div>
<p>O máximo de infecções que um paciente apresenta são 5, e 5 pacientes ficaram em tal situação.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">ifelse</span>(value <span class="sc">==</span> <span class="st">"Sim"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">|&gt;</span> <span class="co"># -------------------------------------------------------</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> name, <span class="at">values_from =</span> value, <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>, </span>
<span id="cb19-7"><a href="#cb19-7"></a>                      <span class="at">names_to =</span> <span class="st">"Infection_Type"</span>, </span>
<span id="cb19-8"><a href="#cb19-8"></a>                      <span class="at">values_to =</span> <span class="st">"Present"</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="fu">mutate</span>(<span class="at">Infection_Type =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(Infection_Type, <span class="st">"^[0-9]+ - "</span>),</span>
<span id="cb19-10"><a href="#cb19-10"></a>         <span class="at">Infection_Type =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(Infection_Type, <span class="st">"</span><span class="sc">\\</span><span class="st">?"</span>),</span>
<span id="cb19-11"><a href="#cb19-11"></a>         <span class="at">Infection_Type =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(Infection_Type, <span class="st">"Infecção (de|em) "</span>),</span>
<span id="cb19-12"><a href="#cb19-12"></a>         <span class="at">Infection_Type =</span> stringr<span class="sc">::</span><span class="fu">str_to_sentence</span>(Infection_Type)) <span class="sc">|&gt;</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb19-14"><a href="#cb19-14"></a>  <span class="fu">aes</span>(</span>
<span id="cb19-15"><a href="#cb19-15"></a>    <span class="at">x =</span> <span class="fu">factor</span>(Infection_Type, <span class="at">levels =</span> <span class="fu">unique</span>(proxy2<span class="sc">$</span>name)), </span>
<span id="cb19-16"><a href="#cb19-16"></a>    <span class="at">y =</span> <span class="fu">factor</span>(</span>
<span id="cb19-17"><a href="#cb19-17"></a>      <span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>, </span>
<span id="cb19-18"><a href="#cb19-18"></a>      <span class="at">levels =</span> <span class="fu">unique</span>(proxy<span class="sc">$</span><span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="fu">rev</span>()</span>
<span id="cb19-19"><a href="#cb19-19"></a>    ), </span>
<span id="cb19-20"><a href="#cb19-20"></a>    <span class="at">fill =</span> <span class="fu">as.factor</span>(Present)</span>
<span id="cb19-21"><a href="#cb19-21"></a>  ) <span class="sc">+</span></span>
<span id="cb19-22"><a href="#cb19-22"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span> <span class="co"># Adds a grid line effect</span></span>
<span id="cb19-23"><a href="#cb19-23"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"0"</span> <span class="ot">=</span> <span class="st">"grey95"</span>, <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>),</span>
<span id="cb19-24"><a href="#cb19-24"></a>                    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Não"</span>, <span class="st">"Sim"</span>),</span>
<span id="cb19-25"><a href="#cb19-25"></a>                    <span class="at">name =</span> <span class="st">"Presença: "</span>) <span class="sc">+</span></span>
<span id="cb19-26"><a href="#cb19-26"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Tipo de Infecção"</span>, </span>
<span id="cb19-27"><a href="#cb19-27"></a>       <span class="at">y =</span> <span class="st">"Paciente"</span>,</span>
<span id="cb19-28"><a href="#cb19-28"></a>       <span class="at">title =</span> <span class="st">"Mapa de Calor de Infecções por Paciente"</span>,</span>
<span id="cb19-29"><a href="#cb19-29"></a>       <span class="at">subtitle =</span> <span class="st">"Apenas pacientes com ao menos dois tipos de infecção"</span>) <span class="sc">+</span></span>
<span id="cb19-30"><a href="#cb19-30"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb19-31"><a href="#cb19-31"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">labels =</span> <span class="cn">NULL</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="respostas_protf_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="e-porcentagem-de-indivíduos-com-comorbidade-e-comorbidades-mais-frequentes" class="level2">
<h2 class="anchored" data-anchor-id="e-porcentagem-de-indivíduos-com-comorbidade-e-comorbidades-mais-frequentes">e) Porcentagem de indivíduos com comorbidade e comorbidades mais frequentes</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">20 - Paciente possui alguma comorbidade/diagnostico de base?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  20 - Paciente possui alguma comorbidade/diagnostico de base…¹     n Percentual
  &lt;chr&gt;                                                         &lt;int&gt;      &lt;dbl&gt;
1 Não                                                              95     0.119 
2 Sem informação                                                   62     0.0776
3 Sim                                                             642     0.804 
# ℹ abbreviated name:
#   ¹​`20 - Paciente possui alguma comorbidade/diagnostico de base?`</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb22-3"><a href="#cb22-3"></a>    <span class="st">`</span><span class="at">20 - Paciente possui alguma comorbidade/diagnostico de base?</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Sim"</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">20.1 -  Qual comorbidade o paciente possui?</span></span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="at">-Em caso negativo responder com NA</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-8"><a href="#cb22-8"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="dv">642</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb22-10"><a href="#cb22-10"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">50</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 50 × 3
   20.1 -  Qual comorbidade o paciente possui?\n\n-Em caso ne…¹     n Percentual
   &lt;chr&gt;                                                        &lt;int&gt;      &lt;dbl&gt;
 1 Doença renal                                                   128    0.199  
 2 Cardiopatia                                                     92    0.143  
 3 Neurologica                                                     34    0.0530 
 4 Pneumopatia                                                     21    0.0327 
 5 Doença renal; Síndrome nefrótica                                16    0.0249 
 6 Cardiopatia; Doença renal                                       11    0.0171 
 7 Oncológica                                                      11    0.0171 
 8 Síndrome genética                                               10    0.0156 
 9 Cardiopatia; Prematuridade                                       9    0.0140 
10 Cardiopatia; Síndrome de Down                                    9    0.0140 
11 NA                                                               9    0.0140 
12 Prematuridade                                                    9    0.0140 
13 Cardiopatia; Neurologica                                         8    0.0125 
14 Hematoncologica                                                  7    0.0109 
15 Hepatopatia                                                      7    0.0109 
16 Anemia                                                           6    0.00935
17 Cardiopatia; Doença renal; Prematuridade                         6    0.00935
18 Cardiopatia; Pneumopatia                                         6    0.00935
19 Doença intestinal                                                6    0.00935
20 Pneumopatia; Doença renal                                        6    0.00935
21 TMO; Hematoncologica                                             6    0.00935
22 Alergia                                                          5    0.00779
23 Deformidade óssea congênita                                      5    0.00779
24 Doença de via biliar                                             4    0.00623
25 Doença renal; Prematuridade                                      4    0.00623
26 Síndrome nefrótica                                               4    0.00623
27 Cardiopatia; Alergia                                             3    0.00467
28 Cardiopatia; Neurologica; Síndrome genética                      3    0.00467
29 Cardiopatia; Síndrome de Down; Pneumopatia                       3    0.00467
30 Cardiopatia; Síndrome genética                                   3    0.00467
31 Desnutrição                                                      3    0.00467
32 Diabetes tipo I ou II                                            3    0.00467
33 Doença renal; Lúpus Eritematoso Sistêmico                        3    0.00467
34 Doença renal; Síndrome Nefrótica                                 3    0.00467
35 Neurologica; Deformidade óssea congênita                         3    0.00467
36 Neurologica; Doença renal                                        3    0.00467
37 Cardiopatia; Deformidade óssea congênita                         2    0.00312
38 Cardiopatia; Doença renal; Hepatopatia                           2    0.00312
39 Cardiopatia; Hepatopatia                                         2    0.00312
40 Cardiopatia; Síndrome de Down; Hipotireoidismo                   2    0.00312
41 Dermatite atópica                                                2    0.00312
42 Doença celíaca                                                   2    0.00312
43 Doença intestinal; Prematuridade                                 2    0.00312
44 Doença renal; Oncológica                                         2    0.00312
45 Histiocitose                                                     2    0.00312
46 Neurologica; Doença renal; Prematuridade                         2    0.00312
47 Neurologica; Pneumopatia                                         2    0.00312
48 Pneumopatia; Prematuridade                                       2    0.00312
49 Poliarterite Nodosa                                              2    0.00312
50 Síndrome de Down                                                 2    0.00312
# ℹ abbreviated name:
#   ¹​`20.1 -  Qual comorbidade o paciente possui?\n\n-Em caso negativo responder com NA`</code></pre>
</div>
</div>
<p>Entre os 642 pacientes com comorbidade, 195 diferentes combinações de comorbidade são observadas - mas 50 aparecem em ao menos dois pacientes.</p>
</section>
<section id="f-porcentagem-de-pacientes-que-realizam-hemodiálise" class="level2">
<h2 class="anchored" data-anchor-id="f-porcentagem-de-pacientes-que-realizam-hemodiálise">f) Porcentagem de pacientes que realizam hemodiálise</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">21 - Paciente realiza hemodiálise?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  `21 - Paciente realiza hemodiálise?`     n Percentual
  &lt;chr&gt;                                &lt;int&gt;      &lt;dbl&gt;
1 Não                                    619     0.775 
2 Sem informação                         115     0.144 
3 Sim                                     65     0.0814</code></pre>
</div>
</div>
</section>
<section id="g-porcentagem-de-pacientes-que-passaram-por-cirurgia-nos-30-dias-antes-do-exame" class="level2">
<h2 class="anchored" data-anchor-id="g-porcentagem-de-pacientes-que-passaram-por-cirurgia-nos-30-dias-antes-do-exame">g) Porcentagem de pacientes que passaram por cirurgia nos 30 dias antes do exame</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(</span>
<span id="cb26-3"><a href="#cb26-3"></a>    <span class="st">`</span><span class="at">22 - Paciente passou por cirurgia nos 30 dias que antecederam a realização do exame PROTF?</span><span class="st">`</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  22 - Paciente passou por cirurgia nos 30 dias que anteceder…¹     n Percentual
  &lt;chr&gt;                                                         &lt;int&gt;      &lt;dbl&gt;
1 Não                                                             498      0.623
2 Sem informação                                                  146      0.183
3 Sim                                                             155      0.194
# ℹ abbreviated name:
#   ¹​`22 - Paciente passou por cirurgia nos 30 dias que antecederam a realização do exame PROTF?`</code></pre>
</div>
</div>
</section>
<section id="h-porcentagem-de-pacientes-que-passaram-por-tratamento-oncológico-nos-30-antes-do-exame" class="level2">
<h2 class="anchored" data-anchor-id="h-porcentagem-de-pacientes-que-passaram-por-tratamento-oncológico-nos-30-antes-do-exame">h) Porcentagem de pacientes que passaram por tratamento oncológico nos 30 antes do exame</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(</span>
<span id="cb28-3"><a href="#cb28-3"></a>    <span class="st">`</span><span class="at">23 - Paciente passou por tratamento oncológico nos 30 dias que antecederam a realização do exame PROTF?</span><span class="st">`</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  23 - Paciente passou por tratamento oncológico nos 30 dias …¹     n Percentual
  &lt;chr&gt;                                                         &lt;int&gt;      &lt;dbl&gt;
1 Não                                                             634     0.793 
2 Sem informação                                                  133     0.166 
3 Sim                                                              32     0.0401
# ℹ abbreviated name:
#   ¹​`23 - Paciente passou por tratamento oncológico nos 30 dias que antecederam a realização do exame PROTF?`</code></pre>
</div>
</div>
</section>
<section id="i-porcentagem-de-pacientes-que-fizeram-uso-de-medicação" class="level2">
<h2 class="anchored" data-anchor-id="i-porcentagem-de-pacientes-que-fizeram-uso-de-medicação">i) Porcentagem de pacientes que fizeram uso de medicação</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(</span>
<span id="cb30-3"><a href="#cb30-3"></a>    <span class="st">`</span><span class="at">26 - Paciente faz uso de medicação que pode causar imunodeficiência nos 30 dias que antecederam a realização do exame PROTF?</span><span class="st">`</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  26 - Paciente faz uso de medicação que pode causar imunodef…¹     n Percentual
  &lt;chr&gt;                                                         &lt;int&gt;      &lt;dbl&gt;
1 Não                                                             429      0.537
2 Sem informação                                                  171      0.214
3 Sim                                                             199      0.249
# ℹ abbreviated name:
#   ¹​`26 - Paciente faz uso de medicação que pode causar imunodeficiência nos 30 dias que antecederam a realização do exame PROTF?`</code></pre>
</div>
</div>
</section>
<section id="j-porcentagem-de-pacientes-com-registro-de-óbito.-definir-intervalo-de-tempo-entre-a-data-do-exame-e-a-data-do-óbito." class="level2">
<h2 class="anchored" data-anchor-id="j-porcentagem-de-pacientes-com-registro-de-óbito.-definir-intervalo-de-tempo-entre-a-data-do-exame-e-a-data-do-óbito.">j) Porcentagem de pacientes com registro de óbito. Definir intervalo de tempo entre a data do exame e a data do óbito.</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>protf <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">33 - Paciente possui registro de óbito?</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percentual =</span> n <span class="sc">/</span> <span class="fu">nrow</span>(protf))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  `33 - Paciente possui registro de óbito?`     n Percentual
  &lt;chr&gt;                                     &lt;int&gt;      &lt;dbl&gt;
1 Não                                         649    0.812  
2 Sem informação                                2    0.00250
3 Sim                                         147    0.184  
4 &lt;NA&gt;                                          1    0.00125</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>proxy <span class="ot">&lt;-</span> </span>
<span id="cb34-2"><a href="#cb34-2"></a>  protf <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">33 - Paciente possui registro de óbito?</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Sim"</span>) <span class="sc">|&gt;</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>, <span class="co"># ---------------------</span></span>
<span id="cb34-5"><a href="#cb34-5"></a>                <span class="st">`</span><span class="at">5 - Data de Cadastro do Exame</span><span class="st">`</span>, </span>
<span id="cb34-6"><a href="#cb34-6"></a>                <span class="st">`</span><span class="at">33.2 - Data de óbito</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb34-7"><a href="#cb34-7"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb34-8"><a href="#cb34-8"></a>    <span class="at">Intervalo_dias =</span> lubridate<span class="sc">::</span><span class="fu">time_length</span>(</span>
<span id="cb34-9"><a href="#cb34-9"></a>      lubridate<span class="sc">::</span><span class="fu">interval</span>(<span class="st">`</span><span class="at">5 - Data de Cadastro do Exame</span><span class="st">`</span>, <span class="st">`</span><span class="at">33.2 - Data de óbito</span><span class="st">`</span>), </span>
<span id="cb34-10"><a href="#cb34-10"></a>      <span class="st">"days"</span></span>
<span id="cb34-11"><a href="#cb34-11"></a>    ),</span>
<span id="cb34-12"><a href="#cb34-12"></a>    <span class="at">Intervalo_meses =</span> lubridate<span class="sc">::</span><span class="fu">time_length</span>(</span>
<span id="cb34-13"><a href="#cb34-13"></a>      lubridate<span class="sc">::</span><span class="fu">interval</span>(<span class="st">`</span><span class="at">5 - Data de Cadastro do Exame</span><span class="st">`</span>, <span class="st">`</span><span class="at">33.2 - Data de óbito</span><span class="st">`</span>), </span>
<span id="cb34-14"><a href="#cb34-14"></a>      <span class="st">"months"</span></span>
<span id="cb34-15"><a href="#cb34-15"></a>    )</span>
<span id="cb34-16"><a href="#cb34-16"></a>  )</span>
<span id="cb34-17"><a href="#cb34-17"></a></span>
<span id="cb34-18"><a href="#cb34-18"></a>proxy <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">1 - Insira o Prontuário do Paciente</span><span class="st">`</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 147 × 4
   5 - Data de Cadastro …¹ `33.2 - Data de óbito` Intervalo_dias Intervalo_meses
   &lt;dttm&gt;                  &lt;dttm&gt;                          &lt;dbl&gt;           &lt;dbl&gt;
 1 2015-01-23 00:00:00     2016-03-30 00:00:00               432          14.2  
 2 2015-09-30 00:00:00     2017-05-15 00:00:00               593          19.5  
 3 2015-03-22 00:00:00     2015-04-27 00:00:00                36           1.17 
 4 2016-01-20 00:00:00     2016-01-27 00:00:00                 7           0.226
 5 2015-05-28 00:00:00     2015-06-14 00:00:00                17           0.548
 6 2017-01-22 00:00:00     2017-02-01 00:00:00                10           0.323
 7 2015-05-22 00:00:00     2015-06-23 00:00:00                32           1.03 
 8 2015-03-30 00:00:00     2015-08-21 00:00:00               144           4.71 
 9 2019-10-23 00:00:00     2020-02-09 00:00:00               109           3.55 
10 2020-11-03 00:00:00     2021-11-18 00:00:00               380          12.5  
# ℹ 137 more rows
# ℹ abbreviated name: ¹​`5 - Data de Cadastro do Exame`</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">summary</span>(proxy<span class="sc">$</span>Intervalo_dias)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 -601.0     8.0    35.0   169.5   184.2  2047.0       1 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">summary</span>(proxy<span class="sc">$</span>Intervalo_meses)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
-19.8000   0.2667   1.1333   5.5697   6.0583  67.2581        1 </code></pre>
</div>
</div>
<p>147 pacientes vieram a óbito (18.4%), com um tempo médio de sobrevida de 169 dias (5.6 meses) - mediana de 35 dias (1.1 meses).</p>
<p><strong>Atenção</strong>! Temos um paciente com este campo em branco.</p>
<p>Além de outliers, temos aqui mais inconsistências nos dados (<strong>atenção!!</strong>). Tempo negativo.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb40-2"><a href="#cb40-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Intervalo_dias <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">|</span> Intervalo_meses <span class="sc">&lt;=</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  1 - Insira o Prontuário do Pac…¹ 5 - Data de Cadastro…² `33.2 - Data de óbito`
                             &lt;dbl&gt; &lt;dttm&gt;                 &lt;dttm&gt;                
1                           132933 2024-06-03 00:00:00    2024-03-17 00:00:00   
2                           256640 2019-07-11 00:00:00    2017-11-17 00:00:00   
3                           315771 2016-12-19 00:00:00    2016-12-19 00:00:00   
4                           324662 2016-01-01 00:00:00    2016-01-01 00:00:00   
5                           349930 2016-06-11 00:00:00    2016-04-23 00:00:00   
6                           659198 2023-12-09 00:00:00    2023-04-09 00:00:00   
# ℹ abbreviated names: ¹​`1 - Insira o Prontuário do Paciente`,
#   ²​`5 - Data de Cadastro do Exame`
# ℹ 2 more variables: Intervalo_dias &lt;dbl&gt;, Intervalo_meses &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="análise-de-indivíduos-com-dosagem-de-igg" class="level1">
<h1>2. Análise de indivíduos com dosagem de IgG</h1>
<section id="a-a-partir-dos-valores-de-dosagem-de-igg-verificar-se-existe-correlação-com-os-valores-de-protf-não-considerar-na-estatistica-os-pacientes-que-fazem-reposição-de-igg---pois-é-um-tratamento-logo-não-é-um-dado-basal" class="level2">
<h2 class="anchored" data-anchor-id="a-a-partir-dos-valores-de-dosagem-de-igg-verificar-se-existe-correlação-com-os-valores-de-protf-não-considerar-na-estatistica-os-pacientes-que-fazem-reposição-de-igg---pois-é-um-tratamento-logo-não-é-um-dado-basal">a) A partir dos valores de dosagem de IgG, verificar se existe correlação com os valores de PROTF; Não considerar na estatistica os pacientes que fazem reposição de IgG - pois é um tratamento, logo não é um dado basal</h2>
<p>118 pacientes (14.8%) tem registro do valor de IgG e não fizeram reposição.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>(</span>
<span id="cb42-2"><a href="#cb42-2"></a>  proxy <span class="ot">&lt;-</span> </span>
<span id="cb42-3"><a href="#cb42-3"></a>    protf <span class="sc">|&gt;</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb42-5"><a href="#cb42-5"></a>      <span class="st">`</span><span class="at">19 - Fez reposições de Imunoglobulinas durante os 30 dias que antecederam a realização do exame PROTF  ?</span><span class="st">`</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>    <span class="sc">!=</span> <span class="st">"Sim"</span> <span class="sc">&amp;</span></span>
<span id="cb42-7"><a href="#cb42-7"></a>    <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb42-8"><a href="#cb42-8"></a></span>
<span id="cb42-9"><a href="#cb42-9"></a><span class="at">NA = não se aplica</span><span class="st">`</span> <span class="sc">!=</span> <span class="st">"NA"</span></span>
<span id="cb42-10"><a href="#cb42-10"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb42-11"><a href="#cb42-11"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">IgG =</span> <span class="st">`</span><span class="at">18.2 - Qual resultado da dosagem? Colocar apenas número</span></span>
<span id="cb42-12"><a href="#cb42-12"></a></span>
<span id="cb42-13"><a href="#cb42-13"></a><span class="at">-Responder com NA em caso de não realização do exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-14"><a href="#cb42-14"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">PROTF =</span> <span class="st">`</span><span class="at">16 - Resultado do Primeiro exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-15"><a href="#cb42-15"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(IgG, PROTF) <span class="sc">|&gt;</span></span>
<span id="cb42-16"><a href="#cb42-16"></a>    tidyr<span class="sc">::</span><span class="fu">unnest</span>(IgG)  </span>
<span id="cb42-17"><a href="#cb42-17"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 118 × 2
     IgG PROTF
   &lt;dbl&gt; &lt;dbl&gt;
 1  1010   1.8
 2   486   1.8
 3   790   2.4
 4   412   2.4
 5   947   2.4
 6  1097   1.7
 7  1423   2.1
 8   454   1.9
 9  1194   2.4
10   423   2.4
# ℹ 108 more rows</code></pre>
</div>
</div>
<p>Correlação linear de Pearson de 0.43 (forte e estatísticamente significativa, 1.2e-06 = 0.0000012).</p>
<p>Contudo, vemos que o que melhor se adequa aos dados é um comportamento quadrático - subida linear (não tão forte) até um igG ao redor de 600 e a partir dali uma curva descendente, mas temos poucos pacientes passando desse valor.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> IgG, <span class="at">y =</span> PROTF) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, </span>
<span id="cb44-6"><a href="#cb44-6"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">2</span>), </span>
<span id="cb44-7"><a href="#cb44-7"></a>              <span class="at">color =</span> <span class="st">"red"</span>, </span>
<span id="cb44-8"><a href="#cb44-8"></a>              <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb44-9"><a href="#cb44-9"></a>  ggpubr<span class="sc">::</span><span class="fu">stat_cor</span>(<span class="at">method =</span> <span class="st">"pearson"</span>, <span class="at">label.x =</span> <span class="dv">1100</span>, <span class="at">label.y =</span> <span class="fl">1.3</span>) <span class="sc">+</span> </span>
<span id="cb44-10"><a href="#cb44-10"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlação entre IgG e PROTF"</span>,</span>
<span id="cb44-11"><a href="#cb44-11"></a>       <span class="at">subtitle =</span> <span class="st">"Modelo Linear Quadrático (y ~ x²) com banda de confiança de 95%"</span>,</span>
<span id="cb44-12"><a href="#cb44-12"></a>       <span class="at">x =</span> <span class="st">"IgG (mg/dL)"</span>, <span class="at">y =</span> <span class="st">"PROTF (g/L)"</span>) <span class="sc">+</span></span>
<span id="cb44-13"><a href="#cb44-13"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1500</span>, <span class="at">by =</span> <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb44-14"><a href="#cb44-14"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="fl">0.1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="respostas_protf_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="b-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf" class="level2">
<h2 class="anchored" data-anchor-id="b-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf">b) Entre os indivíduos com dosagem de IgG abaixo do valor de referência, qual foi o valor médio, mínimo e máximo do valor de PROTF?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(</span>
<span id="cb45-3"><a href="#cb45-3"></a>    <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb45-4"><a href="#cb45-4"></a></span>
<span id="cb45-5"><a href="#cb45-5"></a><span class="at">NA = não se aplica</span><span class="st">`</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>    ) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  `18.1 - Como se encontra o resultado de IgG?\n\nNA = não se aplica`     n
  &lt;chr&gt;                                                               &lt;int&gt;
1 Abaixo do valor de referência                                          66
2 Acima do valor de referência                                            1
3 NA                                                                    673
4 Normal                                                                 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>proxy <span class="ot">&lt;-</span> </span>
<span id="cb47-2"><a href="#cb47-2"></a>  protf <span class="sc">|&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb47-4"><a href="#cb47-4"></a>    <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb47-5"><a href="#cb47-5"></a></span>
<span id="cb47-6"><a href="#cb47-6"></a><span class="at">NA = não se aplica</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Abaixo do valor de referência"</span></span>
<span id="cb47-7"><a href="#cb47-7"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb47-8"><a href="#cb47-8"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">IgG =</span> <span class="st">`</span><span class="at">18.2 - Qual resultado da dosagem? Colocar apenas número</span></span>
<span id="cb47-9"><a href="#cb47-9"></a></span>
<span id="cb47-10"><a href="#cb47-10"></a><span class="at">-Responder com NA em caso de não realização do exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb47-11"><a href="#cb47-11"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">PROTF =</span> <span class="st">`</span><span class="at">16 - Resultado do Primeiro exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb47-12"><a href="#cb47-12"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(IgG, PROTF) <span class="sc">|&gt;</span></span>
<span id="cb47-13"><a href="#cb47-13"></a>    tidyr<span class="sc">::</span><span class="fu">unnest</span>(IgG) </span>
<span id="cb47-14"><a href="#cb47-14"></a></span>
<span id="cb47-15"><a href="#cb47-15"></a><span class="fu">summary</span>(proxy<span class="sc">$</span>PROTF)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.200   1.600   1.700   1.745   1.900   2.400 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> IgG, <span class="at">y =</span> PROTF) <span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, </span>
<span id="cb49-6"><a href="#cb49-6"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">1</span>), </span>
<span id="cb49-7"><a href="#cb49-7"></a>              <span class="at">color =</span> <span class="st">"red"</span>, </span>
<span id="cb49-8"><a href="#cb49-8"></a>              <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb49-9"><a href="#cb49-9"></a>  ggpubr<span class="sc">::</span><span class="fu">stat_cor</span>(<span class="at">method =</span> <span class="st">"pearson"</span>, <span class="at">label.x =</span> <span class="dv">400</span>, <span class="at">label.y =</span> <span class="fl">1.3</span>) <span class="sc">+</span> </span>
<span id="cb49-10"><a href="#cb49-10"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlação entre IgG e PROTF"</span>,</span>
<span id="cb49-11"><a href="#cb49-11"></a>       <span class="at">subtitle =</span> <span class="st">"Modelo Linear (y ~ x) com banda de confiança de 95%"</span>,</span>
<span id="cb49-12"><a href="#cb49-12"></a>       <span class="at">x =</span> <span class="st">"IgG (mg/dL)"</span>, <span class="at">y =</span> <span class="st">"PROTF (g/L)"</span>) <span class="sc">+</span></span>
<span id="cb49-13"><a href="#cb49-13"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">550</span>, <span class="at">by =</span> <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb49-14"><a href="#cb49-14"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="fl">0.1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="respostas_protf_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>PROTF médio de 1.745, min 1.2 e máx 2.4.</p>
</section>
<section id="c-entre-os-indivíduos-com-dosagem-de-igg-acima-do-valor-de-referência-e-que-não-fazem-reposição-de-igg-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf" class="level2">
<h2 class="anchored" data-anchor-id="c-entre-os-indivíduos-com-dosagem-de-igg-acima-do-valor-de-referência-e-que-não-fazem-reposição-de-igg-qual-foi-o-valor-médio-mínimo-e-máximo-do-valor-de-protf">c) Entre os indivíduos com dosagem de IgG acima do valor de referência e que NÃO fazem reposição de IgG, qual foi o valor médio, mínimo e máximo do valor de PROTF?</h2>
<p>Apenas um paciente com IgG acima do valor de referência (ele também não fez reposição de IgG).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb50-3"><a href="#cb50-3"></a>    <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb50-4"><a href="#cb50-4"></a></span>
<span id="cb50-5"><a href="#cb50-5"></a><span class="at">NA = não se aplica</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Acima do valor de referência"</span> <span class="sc">&amp;</span></span>
<span id="cb50-6"><a href="#cb50-6"></a>  <span class="st">`</span><span class="at">19 - Fez reposições de Imunoglobulinas durante os 30 dias que antecederam a realização do exame PROTF  ?</span><span class="st">`</span></span>
<span id="cb50-7"><a href="#cb50-7"></a>    <span class="sc">!=</span> <span class="st">"Sim"</span></span>
<span id="cb50-8"><a href="#cb50-8"></a>    )  <span class="sc">|&gt;</span> </span>
<span id="cb50-9"><a href="#cb50-9"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">IgG =</span> <span class="st">`</span><span class="at">18.2 - Qual resultado da dosagem? Colocar apenas número</span></span>
<span id="cb50-10"><a href="#cb50-10"></a></span>
<span id="cb50-11"><a href="#cb50-11"></a><span class="at">-Responder com NA em caso de não realização do exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb50-12"><a href="#cb50-12"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">protf =</span> <span class="st">`</span><span class="at">16 - Resultado do Primeiro exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb50-13"><a href="#cb50-13"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(IgG, protf) <span class="sc">|&gt;</span></span>
<span id="cb50-14"><a href="#cb50-14"></a>    tidyr<span class="sc">::</span><span class="fu">unnest</span>(IgG) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
    IgG protf
  &lt;dbl&gt; &lt;dbl&gt;
1   697   1.6</code></pre>
</div>
</div>
</section>
<section id="d-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-quantos-possuíam-comorbidade-quais-eram-mais-frequentes" class="level2">
<h2 class="anchored" data-anchor-id="d-entre-os-indivíduos-com-dosagem-de-igg-abaixo-do-valor-de-referência-quantos-possuíam-comorbidade-quais-eram-mais-frequentes">d) Entre os indivíduos com dosagem de IgG abaixo do valor de referência, quantos possuíam comorbidade? Quais eram mais frequentes?</h2>
<p>62 pacientes, 31 diferentes combinações de comorbidades - apenas 6 ocorrendo em ao menos dois pacientes.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb52-3"><a href="#cb52-3"></a>    <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb52-4"><a href="#cb52-4"></a></span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="at">NA = não se aplica</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Abaixo do valor de referência"</span></span>
<span id="cb52-6"><a href="#cb52-6"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb52-7"><a href="#cb52-7"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">20 - Paciente possui alguma comorbidade/diagnostico de base?</span><span class="st">`</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  `20 - Paciente possui alguma comorbidade/diagnostico de base?`     n
  &lt;chr&gt;                                                          &lt;int&gt;
1 Não                                                                3
2 Sem informação                                                     1
3 Sim                                                               62</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb54-3"><a href="#cb54-3"></a>    <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb54-4"><a href="#cb54-4"></a></span>
<span id="cb54-5"><a href="#cb54-5"></a><span class="at">NA = não se aplica</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Abaixo do valor de referência"</span> <span class="sc">&amp;</span></span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="st">`</span><span class="at">20 - Paciente possui alguma comorbidade/diagnostico de base?</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Sim"</span></span>
<span id="cb54-7"><a href="#cb54-7"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb54-8"><a href="#cb54-8"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">20.1 -  Qual comorbidade o paciente possui?</span></span>
<span id="cb54-9"><a href="#cb54-9"></a></span>
<span id="cb54-10"><a href="#cb54-10"></a><span class="at">-Em caso negativo responder com NA</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-11"><a href="#cb54-11"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb54-12"><a href="#cb54-12"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  20.1 -  Qual comorbidade o paciente possui?\n\n-Em caso negativo respo…¹     n
  &lt;chr&gt;                                                                    &lt;int&gt;
1 Cardiopatia                                                                 19
2 Doença renal                                                                 6
3 Cardiopatia; Síndrome de Down                                                5
4 Cardiopatia; Prematuridade                                                   3
5 Cardiopatia; Síndrome de Down; Hipotireoidismo                               2
6 Prematuridade                                                                2
# ℹ abbreviated name:
#   ¹​`20.1 -  Qual comorbidade o paciente possui?\n\n-Em caso negativo responder com NA`</code></pre>
</div>
</div>
</section>
</section>
<section id="análise-dos-menores-de-1-ano" class="level1">
<h1>3. Análise dos menores de 1 ano</h1>
<section id="a-entre-os-menores-de-1-ano-quantos-apresentavam-a-comorbidade-prematuridade" class="level2">
<h2 class="anchored" data-anchor-id="a-entre-os-menores-de-1-ano-quantos-apresentavam-a-comorbidade-prematuridade">a) Entre os menores de 1 ano, quantos apresentavam a comorbidade “Prematuridade”?</h2>
<p>Dentre os 202 pacientes temos 77 diferentes combinações de comorbidades.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb56-2"><a href="#cb56-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">3 - Insira Faixa etária do paciente</span><span class="st">`</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  `3 - Insira Faixa etária do paciente`     n
  &lt;chr&gt;                                 &lt;int&gt;
1 1 ano a 3 anos                          189
2 10 anos a 17 anos                       151
3 4 anos a 9 anos                         228
4 &lt; 1 ano                                 229
5 &gt; 18 anos                                 2</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="st">`</span><span class="at">3 - Insira Faixa etária do paciente</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"&lt; 1 ano"</span>) <span class="sc">|&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(<span class="st">`</span><span class="at">20 - Paciente possui alguma comorbidade/diagnostico de base?</span><span class="st">`</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  `20 - Paciente possui alguma comorbidade/diagnostico de base?`     n
  &lt;chr&gt;                                                          &lt;int&gt;
1 Não                                                               16
2 Sem informação                                                    11
3 Sim                                                              202</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># protf |&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="co">#   dplyr::filter(</span></span>
<span id="cb60-3"><a href="#cb60-3"></a><span class="co">#     `3 - Insira Faixa etária do paciente` == "&lt; 1 ano"</span></span>
<span id="cb60-4"><a href="#cb60-4"></a><span class="co">#   ) |&gt;</span></span>
<span id="cb60-5"><a href="#cb60-5"></a><span class="co">#     dplyr::rename(Comorbidade = `20.1 -  Qual comorbidade o paciente possui?</span></span>
<span id="cb60-6"><a href="#cb60-6"></a><span class="co"># </span></span>
<span id="cb60-7"><a href="#cb60-7"></a><span class="co"># -Em caso negativo responder com NA`) |&gt;</span></span>
<span id="cb60-8"><a href="#cb60-8"></a><span class="co">#   dplyr::count(Comorbidade)</span></span>
<span id="cb60-9"><a href="#cb60-9"></a></span>
<span id="cb60-10"><a href="#cb60-10"></a>protf <span class="sc">|&gt;</span></span>
<span id="cb60-11"><a href="#cb60-11"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Comorbidade =</span> <span class="st">`</span><span class="at">20.1 -  Qual comorbidade o paciente possui?</span></span>
<span id="cb60-12"><a href="#cb60-12"></a></span>
<span id="cb60-13"><a href="#cb60-13"></a><span class="at">-Em caso negativo responder com NA</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb60-14"><a href="#cb60-14"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb60-15"><a href="#cb60-15"></a>    <span class="st">`</span><span class="at">3 - Insira Faixa etária do paciente</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"&lt; 1 ano"</span> <span class="sc">&amp;</span></span>
<span id="cb60-16"><a href="#cb60-16"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(Comorbidade, <span class="st">"Prematuridade"</span>)</span>
<span id="cb60-17"><a href="#cb60-17"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb60-18"><a href="#cb60-18"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(Comorbidade) <span class="sc">|&gt;</span></span>
<span id="cb60-19"><a href="#cb60-19"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(n))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 2
   Comorbidade                                                                 n
   &lt;chr&gt;                                                                   &lt;int&gt;
 1 Cardiopatia; Prematuridade                                                  9
 2 Prematuridade                                                               7
 3 Cardiopatia; Doença renal; Prematuridade                                    6
 4 Doença renal; Prematuridade                                                 4
 5 Doença intestinal; Prematuridade                                            2
 6 Pneumopatia; Prematuridade                                                  2
 7 Cardiopatia; Pneumopatia; Doença renal; Prematuridade                       1
 8 Cardiopatia; Pneumopatia; Prematuridade                                     1
 9 Cardiopatia; Prematuridade; Síndrome genética em investigação               1
10 Cardiopatia; Síndrome de Down; Prematuridade                                1
11 Cardiopatia; Síndrome genética; Prematuridade                               1
12 Doença renal; Prematuridade; Cardiopatia                                    1
13 Insuficiência Renal; Prematuridade; Gastrosquise                            1
14 Neurologica; Doença renal; Prematuridade                                    1
15 Neurologica; Pneumopatia; Doença renal; Prematuridade; Anemia               1
16 Pneumopatia; Doença renal; Prematuridade; Anemia; Hipocalcemia; Hipona…     1
17 Prematuridade; Doença intestinal                                            1
18 Prematuridade; Hepatopatia                                                  1
19 Prematuridade; Neurologica; Anemia                                          1
20 Síndrome de Down; Prematuridade                                             1</code></pre>
</div>
</div>
<p>Destas 77, 20 apresentam “Prematuridade”.</p>
</section>
<section id="b-levando-em-consideração-pacientes-que-fizeram-os-exames-protf-igg-definir-um-valor-de-referência-para-protf-levando-como-referência-a-dosagem-de-igg" class="level2">
<h2 class="anchored" data-anchor-id="b-levando-em-consideração-pacientes-que-fizeram-os-exames-protf-igg-definir-um-valor-de-referência-para-protf-levando-como-referência-a-dosagem-de-igg">b) Levando em consideração pacientes que fizeram os exames PROTF + IgG, definir um valor de referência para PROTF levando como referência a dosagem de IgG</h2>
<p>126 pacientes, descartaremos da análise aquele único paciente com IgG acima do valor de referência.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>(</span>
<span id="cb62-2"><a href="#cb62-2"></a>  proxy <span class="ot">&lt;-</span> </span>
<span id="cb62-3"><a href="#cb62-3"></a>    protf <span class="sc">|&gt;</span></span>
<span id="cb62-4"><a href="#cb62-4"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(IgG_Referência <span class="ot">=</span> <span class="st">`</span><span class="at">18.1 - Como se encontra o resultado de IgG?</span></span>
<span id="cb62-5"><a href="#cb62-5"></a></span>
<span id="cb62-6"><a href="#cb62-6"></a><span class="at">NA = não se aplica</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-7"><a href="#cb62-7"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">IgG =</span> <span class="st">`</span><span class="at">18.2 - Qual resultado da dosagem? Colocar apenas número</span></span>
<span id="cb62-8"><a href="#cb62-8"></a></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="at">-Responder com NA em caso de não realização do exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-10"><a href="#cb62-10"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">PROTF =</span> <span class="st">`</span><span class="at">16 - Resultado do Primeiro exame</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-11"><a href="#cb62-11"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(IgG_Referência <span class="sc">!=</span> <span class="st">"NA"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb62-12"><a href="#cb62-12"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(IgG, PROTF, IgG_Referência) <span class="sc">|&gt;</span></span>
<span id="cb62-13"><a href="#cb62-13"></a>    tidyr<span class="sc">::</span><span class="fu">unnest</span>(IgG)  </span>
<span id="cb62-14"><a href="#cb62-14"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 126 × 3
     IgG PROTF IgG_Referência
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;         
 1  1010   1.8 Normal        
 2   486   1.8 Normal        
 3   790   2.4 Normal        
 4   412   2.4 Normal        
 5   947   2.4 Normal        
 6  1097   1.7 Normal        
 7  1423   2.1 Normal        
 8   454   1.9 Normal        
 9  1194   2.4 Normal        
10   423   2.4 Normal        
# ℹ 116 more rows</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>proxy <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">count</span>(IgG_Referência)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  IgG_Referência                    n
  &lt;chr&gt;                         &lt;int&gt;
1 Abaixo do valor de referência    66
2 Acima do valor de referência      1
3 Normal                           59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> IgG, <span class="at">y =</span> PROTF, <span class="at">fill =</span>IgG_Referência, <span class="at">color =</span> IgG_Referência) <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, </span>
<span id="cb66-6"><a href="#cb66-6"></a>              <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">1</span>), </span>
<span id="cb66-7"><a href="#cb66-7"></a>              <span class="at">color =</span> <span class="st">"red"</span>, </span>
<span id="cb66-8"><a href="#cb66-8"></a>              <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb66-9"><a href="#cb66-9"></a>  ggpubr<span class="sc">::</span><span class="fu">stat_cor</span>(<span class="at">method =</span> <span class="st">"pearson"</span>, </span>
<span id="cb66-10"><a href="#cb66-10"></a>                   <span class="at">label.x.npc =</span> <span class="fl">0.7</span>,   <span class="co"># 70% across the x-axis</span></span>
<span id="cb66-11"><a href="#cb66-11"></a>                   <span class="at">label.y.npc =</span> <span class="st">"bottom"</span>) <span class="sc">+</span> </span>
<span id="cb66-12"><a href="#cb66-12"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlação entre IgG e PROTF"</span>,</span>
<span id="cb66-13"><a href="#cb66-13"></a>       <span class="at">subtitle =</span> <span class="st">"Modelo Linear (y ~ x) com banda de confiança de 95%"</span>,</span>
<span id="cb66-14"><a href="#cb66-14"></a>       <span class="at">fill =</span> <span class="st">"Referência: "</span>, <span class="at">color =</span> <span class="st">"Referência: "</span>,</span>
<span id="cb66-15"><a href="#cb66-15"></a>       <span class="at">x =</span> <span class="st">"IgG (mg/dL)"</span>, <span class="at">y =</span> <span class="st">"PROTF (g/L)"</span>) <span class="sc">+</span></span>
<span id="cb66-16"><a href="#cb66-16"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1500</span>, <span class="at">by =</span> <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb66-17"><a href="#cb66-17"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="fl">0.1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="respostas_protf_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="816"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>(</span>
<span id="cb67-2"><a href="#cb67-2"></a>  ref_stats <span class="ot">&lt;-</span> proxy <span class="sc">|&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3"></a>    <span class="fu">filter</span>(IgG_Referência <span class="sc">==</span> <span class="st">"Normal"</span>) <span class="sc">|&gt;</span></span>
<span id="cb67-4"><a href="#cb67-4"></a>    <span class="fu">summarise</span>(</span>
<span id="cb67-5"><a href="#cb67-5"></a>      <span class="at">mean_protf =</span> <span class="fu">mean</span>(PROTF),</span>
<span id="cb67-6"><a href="#cb67-6"></a>      <span class="at">sd_protf =</span> <span class="fu">sd</span>(PROTF),</span>
<span id="cb67-7"><a href="#cb67-7"></a>      <span class="at">upper_ref =</span> mean_protf <span class="sc">+</span> (<span class="dv">2</span> <span class="sc">*</span> sd_protf),</span>
<span id="cb67-8"><a href="#cb67-8"></a>      <span class="at">lower_ref =</span> mean_protf <span class="sc">-</span> (<span class="dv">2</span> <span class="sc">*</span> sd_protf)</span>
<span id="cb67-9"><a href="#cb67-9"></a>    )</span>
<span id="cb67-10"><a href="#cb67-10"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  mean_protf sd_protf upper_ref lower_ref
       &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1       2.02    0.262      2.54      1.50</code></pre>
</div>
</div>
<p>Valor de referência: 2.02 (95% CI 1.50, 2.54).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>lin_mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb69-2"><a href="#cb69-2"></a>  PROTF <span class="sc">~</span> IgG, </span>
<span id="cb69-3"><a href="#cb69-3"></a>  <span class="at">data =</span> proxy <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(IgG_Referência <span class="sc">!=</span> <span class="st">"Acima do valor de referência"</span>)</span>
<span id="cb69-4"><a href="#cb69-4"></a>)</span>
<span id="cb69-5"><a href="#cb69-5"></a></span>
<span id="cb69-6"><a href="#cb69-6"></a><span class="co"># Fit a segmented model (it estimates where the 'plateau' starts)</span></span>
<span id="cb69-7"><a href="#cb69-7"></a><span class="co"># You provide an initial guess for the breakpoint (e.g., IgG = 600)</span></span>
<span id="cb69-8"><a href="#cb69-8"></a>seg_mod <span class="ot">&lt;-</span> <span class="fu">segmented</span>(lin_mod, <span class="at">seg.Z =</span> <span class="sc">~</span>IgG, <span class="at">psi =</span> <span class="dv">600</span>)</span>
<span id="cb69-9"><a href="#cb69-9"></a></span>
<span id="cb69-10"><a href="#cb69-10"></a><span class="co"># seg_mod$psi[, "Est."] + c(-1.95, 1.96) * seg_mod$psi[, "St.Err"]</span></span>
<span id="cb69-11"><a href="#cb69-11"></a></span>
<span id="cb69-12"><a href="#cb69-12"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb69-13"><a href="#cb69-13"></a>  <span class="fu">filter</span>(IgG_Referência <span class="sc">!=</span> <span class="st">"Acima do valor de referência"</span>) <span class="sc">|&gt;</span></span>
<span id="cb69-14"><a href="#cb69-14"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> IgG, <span class="at">y =</span> PROTF)) <span class="sc">+</span></span>
<span id="cb69-15"><a href="#cb69-15"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">xmax =</span> <span class="cn">Inf</span>, </span>
<span id="cb69-16"><a href="#cb69-16"></a>           <span class="at">ymin =</span> ref_stats<span class="sc">$</span>lower_ref, <span class="at">ymax =</span> ref_stats<span class="sc">$</span>upper_ref, </span>
<span id="cb69-17"><a href="#cb69-17"></a>           <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb69-18"><a href="#cb69-18"></a>  <span class="fu">annotate</span>(<span class="st">"segment"</span>, <span class="at">x =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">xend =</span> <span class="cn">Inf</span>, </span>
<span id="cb69-19"><a href="#cb69-19"></a>           <span class="at">y =</span> ref_stats<span class="sc">$</span>mean_protf, <span class="at">yend =</span> ref_stats<span class="sc">$</span>mean_protf, </span>
<span id="cb69-20"><a href="#cb69-20"></a>           <span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb69-21"><a href="#cb69-21"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">fill =</span> IgG_Referência), <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb69-22"><a href="#cb69-22"></a>  <span class="fu">geom_smooth</span>(</span>
<span id="cb69-23"><a href="#cb69-23"></a>    <span class="fu">aes</span>(<span class="at">color =</span> IgG_Referência), </span>
<span id="cb69-24"><a href="#cb69-24"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb69-25"><a href="#cb69-25"></a>  ) <span class="sc">+</span></span>
<span id="cb69-26"><a href="#cb69-26"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> seg_mod<span class="sc">$</span>psi[, <span class="st">"Est."</span>], <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb69-27"><a href="#cb69-27"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb69-28"><a href="#cb69-28"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Normal"</span> <span class="ot">=</span> <span class="st">"white"</span>, <span class="st">"Abaixo do valor de referência"</span> <span class="ot">=</span> <span class="st">"orange"</span>),</span>
<span id="cb69-29"><a href="#cb69-29"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Abaixo da Referência"</span>, <span class="st">"Normal"</span>)</span>
<span id="cb69-30"><a href="#cb69-30"></a>  ) <span class="sc">+</span></span>
<span id="cb69-31"><a href="#cb69-31"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb69-32"><a href="#cb69-32"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Normal"</span> <span class="ot">=</span> <span class="st">"darkblue"</span>, <span class="st">"Abaixo do valor de referência"</span> <span class="ot">=</span> <span class="st">"darkorange"</span>),</span>
<span id="cb69-33"><a href="#cb69-33"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Abaixo da Referência"</span>, <span class="st">"Normal"</span>)</span>
<span id="cb69-34"><a href="#cb69-34"></a>  ) <span class="sc">+</span></span>
<span id="cb69-35"><a href="#cb69-35"></a>  <span class="fu">labs</span>(</span>
<span id="cb69-36"><a href="#cb69-36"></a>    <span class="at">title =</span> <span class="st">"Baseline de PROTF Baseado no Platô de IgG (Grupo Normal)"</span>,</span>
<span id="cb69-37"><a href="#cb69-37"></a>    <span class="at">subtitle =</span> <span class="st">"Linhas de tendência com Intervalo de Confiança de 95% (sombreado)"</span>,</span>
<span id="cb69-38"><a href="#cb69-38"></a>    <span class="at">x =</span> <span class="st">"IgG (mg/dL)"</span>, </span>
<span id="cb69-39"><a href="#cb69-39"></a>    <span class="at">y =</span> <span class="st">"PROTF (g/L)"</span>,</span>
<span id="cb69-40"><a href="#cb69-40"></a>    <span class="at">fill =</span> <span class="st">"Classificação IgG: "</span>, <span class="at">color =</span> <span class="st">"Classificação IgG: "</span></span>
<span id="cb69-41"><a href="#cb69-41"></a>  ) <span class="sc">+</span></span>
<span id="cb69-42"><a href="#cb69-42"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1500</span>, <span class="at">by =</span> <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb69-43"><a href="#cb69-43"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="at">by =</span> <span class="fl">0.1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="respostas_protf_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<p>Além disso, estimamos um ponto de corte para ver onde se inicia o platô - onde termina o padrão de crescimento e se inicia a estagnação de PROTF médio em relação ao IgG, é em 423.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">summary</span>(seg_mod)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    ***Regression Model with Segmented Relationship(s)***

Call: 
segmented.lm(obj = lin_mod, seg.Z = ~IgG, psi = 600)

Estimated Break-Point(s):
          Est. St.Err
psi1.IgG  423 81.486

Coefficients of the linear terms:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.5449106  0.0635568  24.308  &lt; 2e-16 ***
IgG          0.0010631  0.0002624   4.051 9.06e-05 ***
U1.IgG      -0.0009636  0.0002938  -3.280       NA    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.253 on 121 degrees of freedom
Multiple R-Squared: 0.2745,  Adjusted R-squared: 0.2565 

Boot restarting based on 6 samples. Last fit:
Convergence attained in 2 iterations (rel. change 1.8994e-06)</code></pre>
</div>
</div>
<p>Aqui é apenas para “comprovar” que o grupo “Normal” não tem inclinação estatísticamente significativa. Neste grupo, independente do valor de IgG se espera o mesmo valor de PROTF.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>proxy <span class="sc">|&gt;</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(IgG_Referência <span class="sc">!=</span> <span class="st">"Acima do valor de referência"</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-3"><a href="#cb72-3"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(IgG_Referência) <span class="sc">|&gt;</span></span>
<span id="cb72-4"><a href="#cb72-4"></a>  dplyr<span class="sc">::</span><span class="fu">group_modify</span>(<span class="sc">~</span> broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">lm</span>(PROTF <span class="sc">~</span> IgG, <span class="at">data =</span> .x), <span class="at">conf.int =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb72-5"><a href="#cb72-5"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"IgG"</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-6"><a href="#cb72-6"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(IgG_Referência, estimate, std.error, p.value, conf.low, conf.high)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
# Groups:   IgG_Referência [2]
  IgG_Referência                 estimate std.error p.value  conf.low conf.high
  &lt;chr&gt;                             &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 Abaixo do valor de referência 0.000835   0.000263 0.00234  0.000309  0.00136 
2 Normal                        0.0000827  0.000128 0.521   -0.000174  0.000339</code></pre>
</div>
</div>
</section>
<section id="explicação-mais-detalhada" class="level2">
<h2 class="anchored" data-anchor-id="explicação-mais-detalhada">Explicação mais detalhada</h2>
<section id="establishment-of-the-baseline-reference" class="level3">
<h3 class="anchored" data-anchor-id="establishment-of-the-baseline-reference">1. Establishment of the Baseline Reference</h3>
<p>To define a physiological PROTF baseline, the Normal Group (patients with IgG within the reference range) was used as the normative standard.</p>
<ul>
<li><p><strong>Process:</strong> We calculated the mean and standard deviation (SD) for the Normal group. The shaded area in the visualization represents the Mean ± 2 SD, covering approximately 95% of the expected physiological variation.</p></li>
<li><p><strong>Interpretation:</strong> PROTF values falling below this band indicate a pathological deficit relative to the established biological baseline.</p></li>
</ul>
</section>
<section id="group-dynamics-the-rise-vs.-plateau-effect" class="level3">
<h3 class="anchored" data-anchor-id="group-dynamics-the-rise-vs.-plateau-effect">2. Group Dynamics: The “Rise vs.&nbsp;Plateau” Effect</h3>
<p>The relationship was modeled separately for each group to identify how IgG deficiency impacts PROTF measurements.</p>
<ul>
<li><p><strong>Below Reference Group:</strong> This group exhibits a significant positive slope (p &lt; 0.05). This demonstrates that in patients with low IgG, PROTF is “coupled” to IgG levels—as IgG increases, PROTF rises proportionally.</p></li>
<li><p><strong>Normal Group:</strong> This group shows a slope near zero (the confidence interval includes zero). This confirms a Plateau effect, where PROTF reaches a steady state and no longer responds to further IgG increases, representing the true biological baseline.</p></li>
</ul>
</section>
<section id="segmented-regression-inflection-point" class="level3">
<h3 class="anchored" data-anchor-id="segmented-regression-inflection-point">3. Segmented Regression (Inflection Point)</h3>
<p>A Segmented (Broken-stick) Regression was applied to mathematically determine the threshold of stabilization.</p>
<ul>
<li><p><strong>The Breakpoint:</strong> The model identifies the specific IgG coordinate where the linear rise ends and the plateau begins.</p></li>
<li><p><strong>Clinical Utility:</strong> This point defines the “Critical IgG Threshold” required for a PROTF measurement to be considered stable and diagnostically reliable, independent of hypogammaglobulinemia interference.</p></li>
</ul>
<hr>
</section>
<section id="summary-of-statistical-findings" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-statistical-findings">Summary of Statistical Findings</h3>
<p>A positive linear dependency was observed between PROTF and IgG strictly within the deficient group (p &lt; 0.05). Conversely, the normal group exhibited a plateau (p &gt; 0.05), establishing a stable reference baseline.</p>
</section>
</section>
</section>
<section id="methodology-references" class="level1">
<h1>Methodology &amp; References</h1>
<p>All analyses were conducted using the <code>R</code> language and environment for statistical computing (R Core Team, 2025). Data manipulation and string processing were performed using <code>dplyr</code> (Wickham et al., 2023), <code>tidyr</code> (Wickham et al., 2024), and <code>stringr</code> (Wickham, 2023). Temporal data were handled with <code>lubridate</code> (Grolemund &amp; Wickham, 2011).</p>
<p>To date, the study has focused on data cleaning, feature engineering, and advanced visualization using <code>ggplot2</code> (Wickham, 2016). A key objective was the identification of biological cutoff points for PROTF where existing references were unknown or required validation. To achieve this, we utilized a two-step modeling approach:</p>
<ol type="1">
<li><strong>Reference Interval Modeling:</strong> We established biological baselines by calculating the mean and standard deviation (± 2 SD) of the “Normal” IgG cohort, treating this group as a stable physiological standard.</li>
<li><strong>Threshold Discovery via Segmented Regression:</strong> To identify the specific IgG level at which PROTF stabilize, we implemented segmented (broken-stick) regression (Muggeo, 2008). This allowed us to mathematically determine the “inflection point” between the rising deficient phase and the steady-state plateau phase.</li>
</ol>
<p>Statistical significance of the observed slopes and the fit of the resulting plateaus were verified using tidied coefficients extracted via <code>broom</code> (Robinson et al., 2024).</p>
<!-- In the next steps, we plan to expand these associations using generalized linear models (GLMs - McCullagh & Nelder, 1989) and generalized additive models (GAMs - Hastie & Tibshirani, 1990; Wood, 2017) to account for potential non-linear effects across the broader dataset. -->
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<blockquote class="blockquote">
<p>R Core Team (2025). <em>R: A Language and Environment for Statistical Computing</em>. R Foundation for Statistical Computing, Vienna, Austria. <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
<p>Wickham, H. (2016). <em>ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York.</p>
<p>Wickham, H., François, R., Henry, L., Müller, K., &amp; Vaughan, D. (2023). <em>dplyr: A Grammar of Data Manipulation</em>. R package version 1.1.4.</p>
<p>Wickham, H., Vaughan, D., &amp; Girlich, M. (2024). <em>tidyr: Tidy Messy Data</em>. R package version 1.3.1.</p>
<p>Wickham, H. (2023). <em>stringr: Simple, Consistent Wrappers for Common String Operations</em>. R package version 1.5.1.</p>
<p>Robinson, D., Hayes, A., &amp; Couch, S. (2024). <em>broom: Glance, Tidy, and Augment Regression Models</em>. R package version 1.0.6.</p>
<p>Muggeo, V. M. R. (2008). <em>segmented: an R Package to Fit Regression Models with Broken-Line Relationships</em>. R News, 8/1, 20-25.</p>
<p>Garrett Grolemund, Hadley Wickham (2011). <em>Dates and Times Made Easy with lubridate</em>. Journal of Statistical Software, 40(3), 1-25. <!-- > --> <!-- > McCullagh, P., & Nelder, J. A. (1989). *Generalized Linear Models* (2nd ed.). Chapman & Hall. --> <!-- > --> <!-- > Hastie, T., & Tibshirani, R. (1990). *Generalized Additive Models*. Chapman & Hall. --> <!-- > --> <!-- > Wood, S. N. (2017). *Generalized Additive Models: An Introduction with R* (2nd ed.). CRC Press. --></p>
</blockquote>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>